<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>TOPSTSCHOOL - En Español. ANALYSIS DE PUNTOS CRITICOS DE VULNERABILIDAD - I-GUIDE Workshop 2023 New York</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../images/TOPTSCHOOL-logo02.hi-res.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../images/TOPTSCHOOL-logo02.hi-res.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">TOPSTSCHOOL</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../about.html" rel="" target="">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../get-involved.qmd" rel="" target="">
 <span class="menu-text">Get Involved</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../dev-team.html" rel="" target="">
 <span class="menu-text">Development Team</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../modules.qmd" rel="" target="">
 <span class="menu-text">Modules</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link active" href="https://github.com/ciesin-geospatial/TOPSTSCHOOL" rel="" target="" aria-current="page"><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.youtube.com/channel/UCOIrczFd7_ht2bNUQ3qnM8w" rel="" target=""><i class="bi bi-youtube" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><font color="green">En Español. ANALYSIS DE PUNTOS CRITICOS DE VULNERABILIDAD - I-GUIDE Workshop 2023 New York</font></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-center sidebar-header sidebar-header-stacked">
      <a href="../index.html" class="sidebar-logo-link">
      <img src="../images/TOPTSCHOOL-logo02.hi-res.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
      <div class="sidebar-tools-main">
    <a href="https://ciesin-geospatial.github.io/TOPSTSCHOOL/" rel="" title="TOPSTSCHOOL GitHub io" class="quarto-navigation-tool px-1" aria-label="TOPSTSCHOOL GitHub io"><i class="bi bi-globe"></i></a>
    <a href="https://github.com/ciesin-geospatial/TOPSTSCHOOL" rel="" title="TOPSTSCHOOL GitHub repo" class="quarto-navigation-tool px-1" aria-label="TOPSTSCHOOL GitHub repo"><i class="bi bi-github"></i></a>
</div>
      </div>
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Contents</h2>
   
  <ul>
  <li><a href="#hotspot-vulnerability-analysis---i-guide-workshop-2023-new-york" id="toc-hotspot-vulnerability-analysis---i-guide-workshop-2023-new-york" class="nav-link active" data-scroll-target="#hotspot-vulnerability-analysis---i-guide-workshop-2023-new-york">HOTSPOT VULNERABILITY ANALYSIS - I-GUIDE Workshop 2023 New York</a>
  <ul class="collapse">
  <li><a href="#comience-a-continuación-instale-las-bibliotecas-requeridas-para-este-tutorial" id="toc-comience-a-continuación-instale-las-bibliotecas-requeridas-para-este-tutorial" class="nav-link" data-scroll-target="#comience-a-continuación-instale-las-bibliotecas-requeridas-para-este-tutorial"><font color="green">Comience a continuación: Instale las bibliotecas requeridas para este tutorial</font></a></li>
  <li><a href="#start-below-install-libraries-required-for-this-tutorial" id="toc-start-below-install-libraries-required-for-this-tutorial" class="nav-link" data-scroll-target="#start-below-install-libraries-required-for-this-tutorial">Start Below: Install libraries required for this tutorial</a></li>
  <li><a href="#la-capacitación-sobre-vulnerabilidad-de-hotspot-proporcionará-una-capacitación-integral-en-el-marco-los-datos-y-los-métodos-utilizados-para-desarrollar-una-evaluación-de-vulnerabilidad-espacial.-este-módulo-de-capacitación-le-enseña-al-usuario-cómo-identificar-las-áreas-que-se-consideran-más-vulnerables-dentro-de-un-conjunto-determinado-de-métricas-o-indicadores.-la-capacitación-utilizará-software-y-datos-de-acceso-abierto-para-demostrar-cómo-desarrollar-un-producto-final-de-análisis-de-puntos-críticos-utilizando-diferentes-fuentes-y-formatos-de-datos.-la-formación-tendrá-tres-etapas" id="toc-la-capacitación-sobre-vulnerabilidad-de-hotspot-proporcionará-una-capacitación-integral-en-el-marco-los-datos-y-los-métodos-utilizados-para-desarrollar-una-evaluación-de-vulnerabilidad-espacial.-este-módulo-de-capacitación-le-enseña-al-usuario-cómo-identificar-las-áreas-que-se-consideran-más-vulnerables-dentro-de-un-conjunto-determinado-de-métricas-o-indicadores.-la-capacitación-utilizará-software-y-datos-de-acceso-abierto-para-demostrar-cómo-desarrollar-un-producto-final-de-análisis-de-puntos-críticos-utilizando-diferentes-fuentes-y-formatos-de-datos.-la-formación-tendrá-tres-etapas" class="nav-link" data-scroll-target="#la-capacitación-sobre-vulnerabilidad-de-hotspot-proporcionará-una-capacitación-integral-en-el-marco-los-datos-y-los-métodos-utilizados-para-desarrollar-una-evaluación-de-vulnerabilidad-espacial.-este-módulo-de-capacitación-le-enseña-al-usuario-cómo-identificar-las-áreas-que-se-consideran-más-vulnerables-dentro-de-un-conjunto-determinado-de-métricas-o-indicadores.-la-capacitación-utilizará-software-y-datos-de-acceso-abierto-para-demostrar-cómo-desarrollar-un-producto-final-de-análisis-de-puntos-críticos-utilizando-diferentes-fuentes-y-formatos-de-datos.-la-formación-tendrá-tres-etapas"><font color="green"> La capacitación sobre vulnerabilidad de Hotspot proporcionará una capacitación integral en el marco, los datos y los métodos utilizados para desarrollar una evaluación de vulnerabilidad espacial. Este módulo de capacitación le enseña al usuario cómo identificar las áreas que se consideran más vulnerables dentro de un conjunto determinado de métricas o indicadores. <br> <br>La capacitación utilizará software y datos de acceso abierto para demostrar cómo desarrollar un producto final de análisis de puntos críticos utilizando diferentes fuentes y formatos de datos. La formación tendrá tres etapas: </font></a></li>
  <li><a href="#the-hotspot-vulnerability-training-will-provide-comprehensive-training-in-the-framework-data-and-methods-used-to-develop-a-spatial-vulnerability-assessment.-this-training-module-teaches-the-user-how-to-identify-areas-that-are-considered-the-most-vulnerable-within-a-given-set-of-metrics-or-indicators.-the-training-will-utilize-open-access-software-and-data-to-demonstrate-how-to-develop-a-final-hotspot-analysis-product-using-different-sources-and-formats-of-data.-the-training-will-take-three-stages" id="toc-the-hotspot-vulnerability-training-will-provide-comprehensive-training-in-the-framework-data-and-methods-used-to-develop-a-spatial-vulnerability-assessment.-this-training-module-teaches-the-user-how-to-identify-areas-that-are-considered-the-most-vulnerable-within-a-given-set-of-metrics-or-indicators.-the-training-will-utilize-open-access-software-and-data-to-demonstrate-how-to-develop-a-final-hotspot-analysis-product-using-different-sources-and-formats-of-data.-the-training-will-take-three-stages" class="nav-link" data-scroll-target="#the-hotspot-vulnerability-training-will-provide-comprehensive-training-in-the-framework-data-and-methods-used-to-develop-a-spatial-vulnerability-assessment.-this-training-module-teaches-the-user-how-to-identify-areas-that-are-considered-the-most-vulnerable-within-a-given-set-of-metrics-or-indicators.-the-training-will-utilize-open-access-software-and-data-to-demonstrate-how-to-develop-a-final-hotspot-analysis-product-using-different-sources-and-formats-of-data.-the-training-will-take-three-stages">The Hotspot vulnerability training will provide comprehensive training in the framework, data, and methods used to develop a spatial vulnerability assessment. This training module teaches the user how to identify areas that are considered the most vulnerable within a given set of metrics, or indicators. <br> <br>The training will utilize open-access software and data to demonstrate how to develop a final hotspot analysis product using different sources and formats of data. The training will take three stages:</a></li>
  </ul></li>
  <li><a href="#marco-teórico-del-enfoque-de-índice" id="toc-marco-teórico-del-enfoque-de-índice" class="nav-link" data-scroll-target="#marco-teórico-del-enfoque-de-índice"><font color="green"> 1. Marco teórico del enfoque de índice </font></a></li>
  <li><a href="#theoretical-framework-of-the-index-approach" id="toc-theoretical-framework-of-the-index-approach" class="nav-link" data-scroll-target="#theoretical-framework-of-the-index-approach">1. Theoretical Framework of the Index Approach</a>
  <ul class="collapse">
  <li><a href="#examples-of-vulnerability-mapping-and-indices" id="toc-examples-of-vulnerability-mapping-and-indices" class="nav-link" data-scroll-target="#examples-of-vulnerability-mapping-and-indices">Examples of Vulnerability Mapping and Indices</a></li>
  <li><a href="#indexing-and-weighting-method" id="toc-indexing-and-weighting-method" class="nav-link" data-scroll-target="#indexing-and-weighting-method">Indexing and Weighting Method</a></li>
  </ul></li>
  <li><a href="#procesamiento-de-productos-de-datos" id="toc-procesamiento-de-productos-de-datos" class="nav-link" data-scroll-target="#procesamiento-de-productos-de-datos"><font color="green"> 2. Procesamiento de productos de datos:</font></a>
  <ul class="collapse">
  <li><a href="#estudio-de-caso-de-municipios-del-cauca-colombia" id="toc-estudio-de-caso-de-municipios-del-cauca-colombia" class="nav-link" data-scroll-target="#estudio-de-caso-de-municipios-del-cauca-colombia"><font color="green">Estudio de Caso de Municipios del Cauca, Colombia</font></a>
  <ul class="collapse">
  <li><a href="#fuentes-de-datos" id="toc-fuentes-de-datos" class="nav-link" data-scroll-target="#fuentes-de-datos"><font color="green"> Fuentes de datos:</font></a></li>
  </ul></li>
  </ul></li>
  <li><a href="#processing-data-products" id="toc-processing-data-products" class="nav-link" data-scroll-target="#processing-data-products">2. Processing Data Products:</a>
  <ul class="collapse">
  <li><a href="#case-study-of-municipalities-in-cauca-colombia" id="toc-case-study-of-municipalities-in-cauca-colombia" class="nav-link" data-scroll-target="#case-study-of-municipalities-in-cauca-colombia">Case Study of Municipalities in Cauca, Colombia</a>
  <ul class="collapse">
  <li><a href="#data-sources" id="toc-data-sources" class="nav-link" data-scroll-target="#data-sources">Data Sources:</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#proceso-de-indexación-y-ponderación" id="toc-proceso-de-indexación-y-ponderación" class="nav-link" data-scroll-target="#proceso-de-indexación-y-ponderación"><font color="green"> 3. Proceso de indexación y ponderación</font></a></li>
  <li><a href="#indexing-and-weighting-process" id="toc-indexing-and-weighting-process" class="nav-link" data-scroll-target="#indexing-and-weighting-process">3. Indexing and Weighting Process</a></li>
  </ul>
</nav>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><font color="green">En Español. ANALYSIS DE PUNTOS CRITICOS DE VULNERABILIDAD - I-GUIDE Workshop 2023 New York</font></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>Entrenamiento provedido en Español <br> Training offered in English</p>
<p><img src="https://www.ciesin.columbia.edu/images/logo_sm.png"></p>
<section id="hotspot-vulnerability-analysis---i-guide-workshop-2023-new-york" class="level1">
<h1>HOTSPOT VULNERABILITY ANALYSIS - I-GUIDE Workshop 2023 New York</h1>
<p>JUAN F. MARTINEZ, Center for International Earth Science Information Network (CIESIN)<br><br></p>
<section id="comience-a-continuación-instale-las-bibliotecas-requeridas-para-este-tutorial" class="level3">
<h3 class="anchored" data-anchor-id="comience-a-continuación-instale-las-bibliotecas-requeridas-para-este-tutorial"><font color="green">Comience a continuación: Instale las bibliotecas requeridas para este tutorial</font></h3>
</section>
<section id="start-below-install-libraries-required-for-this-tutorial" class="level3">
<h3 class="anchored" data-anchor-id="start-below-install-libraries-required-for-this-tutorial">Start Below: Install libraries required for this tutorial</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>pip install geopandas rasterio matplotlib numpy pandas rasterstats scipy</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><font color="green">importar bibliotecas requeridas para este tutorial<br></font> import libraries required for this tutorial</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> IPython.display <span class="im">import</span> Image</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> IPython.core.display <span class="im">import</span> HTML</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> geopandas <span class="im">as</span> gpd</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> rasterio</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> rasterio <span class="im">import</span> mask</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> rasterio.plot <span class="im">import</span> show</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> rasterio.plot <span class="im">import</span> show_hist</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> rasterstats <span class="im">import</span> zonal_stats</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> scipy.stats <span class="im">import</span> boxcox</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="la-capacitación-sobre-vulnerabilidad-de-hotspot-proporcionará-una-capacitación-integral-en-el-marco-los-datos-y-los-métodos-utilizados-para-desarrollar-una-evaluación-de-vulnerabilidad-espacial.-este-módulo-de-capacitación-le-enseña-al-usuario-cómo-identificar-las-áreas-que-se-consideran-más-vulnerables-dentro-de-un-conjunto-determinado-de-métricas-o-indicadores.-la-capacitación-utilizará-software-y-datos-de-acceso-abierto-para-demostrar-cómo-desarrollar-un-producto-final-de-análisis-de-puntos-críticos-utilizando-diferentes-fuentes-y-formatos-de-datos.-la-formación-tendrá-tres-etapas" class="level3">
<h3 class="anchored" data-anchor-id="la-capacitación-sobre-vulnerabilidad-de-hotspot-proporcionará-una-capacitación-integral-en-el-marco-los-datos-y-los-métodos-utilizados-para-desarrollar-una-evaluación-de-vulnerabilidad-espacial.-este-módulo-de-capacitación-le-enseña-al-usuario-cómo-identificar-las-áreas-que-se-consideran-más-vulnerables-dentro-de-un-conjunto-determinado-de-métricas-o-indicadores.-la-capacitación-utilizará-software-y-datos-de-acceso-abierto-para-demostrar-cómo-desarrollar-un-producto-final-de-análisis-de-puntos-críticos-utilizando-diferentes-fuentes-y-formatos-de-datos.-la-formación-tendrá-tres-etapas"><font color="green"> La capacitación sobre vulnerabilidad de Hotspot proporcionará una capacitación integral en el marco, los datos y los métodos utilizados para desarrollar una evaluación de vulnerabilidad espacial. Este módulo de capacitación le enseña al usuario cómo identificar las áreas que se consideran más vulnerables dentro de un conjunto determinado de métricas o indicadores. <br> <br>La capacitación utilizará software y datos de acceso abierto para demostrar cómo desarrollar un producto final de análisis de puntos críticos utilizando diferentes fuentes y formatos de datos. La formación tendrá tres etapas: </font></h3>
<section id="marco-teórico-del-enfoque-de-índice-para-el-mapeo-de-vulnerabilidades-de-hotspospot-2.-procesamiento-de-diferentes-productos-de-datos-estudio-de-caso-en-municipios-del-cauca-colombia-3.-proceso-de-indexación-y-agregación" class="level4">
<h4 class="anchored" data-anchor-id="marco-teórico-del-enfoque-de-índice-para-el-mapeo-de-vulnerabilidades-de-hotspospot-2.-procesamiento-de-diferentes-productos-de-datos-estudio-de-caso-en-municipios-del-cauca-colombia-3.-proceso-de-indexación-y-agregación"><font color="green"> 1. Marco teórico del enfoque de índice para el mapeo de vulnerabilidades de Hotspospot<br> 2. Procesamiento de Diferentes Productos de Datos: Estudio de Caso en Municipios del Cauca, Colombia<br> 3. Proceso de indexación y agregación</font></h4><font color="green">
</font><p><font color="green"></font></p>
</section>
</section>
<section id="the-hotspot-vulnerability-training-will-provide-comprehensive-training-in-the-framework-data-and-methods-used-to-develop-a-spatial-vulnerability-assessment.-this-training-module-teaches-the-user-how-to-identify-areas-that-are-considered-the-most-vulnerable-within-a-given-set-of-metrics-or-indicators.-the-training-will-utilize-open-access-software-and-data-to-demonstrate-how-to-develop-a-final-hotspot-analysis-product-using-different-sources-and-formats-of-data.-the-training-will-take-three-stages" class="level3">
<h3 class="anchored" data-anchor-id="the-hotspot-vulnerability-training-will-provide-comprehensive-training-in-the-framework-data-and-methods-used-to-develop-a-spatial-vulnerability-assessment.-this-training-module-teaches-the-user-how-to-identify-areas-that-are-considered-the-most-vulnerable-within-a-given-set-of-metrics-or-indicators.-the-training-will-utilize-open-access-software-and-data-to-demonstrate-how-to-develop-a-final-hotspot-analysis-product-using-different-sources-and-formats-of-data.-the-training-will-take-three-stages">The Hotspot vulnerability training will provide comprehensive training in the framework, data, and methods used to develop a spatial vulnerability assessment. This training module teaches the user how to identify areas that are considered the most vulnerable within a given set of metrics, or indicators. <br> <br>The training will utilize open-access software and data to demonstrate how to develop a final hotspot analysis product using different sources and formats of data. The training will take three stages:</h3>
<section id="theoretical-framework-of-the-index-approach-to-hotspospot-vulnerability-mapping" class="level4">
<h4 class="anchored" data-anchor-id="theoretical-framework-of-the-index-approach-to-hotspospot-vulnerability-mapping">1. Theoretical Framework of the Index Approach to Hotspospot Vulnerability Mapping</h4>
</section>
<section id="processing-of-different-data-products-case-study-in-municipalities-of-cauca-colombia" class="level4">
<h4 class="anchored" data-anchor-id="processing-of-different-data-products-case-study-in-municipalities-of-cauca-colombia">2. Processing of Different Data Products: Case Study in Municipalities of Cauca, Colombia</h4>
</section>
<section id="indexing-and-aggregating-process" class="level4">
<h4 class="anchored" data-anchor-id="indexing-and-aggregating-process">3. Indexing and Aggregating Process <br></h4>
</section>
</section>
</section>
<section id="marco-teórico-del-enfoque-de-índice" class="level1">
<h1><font color="green"> 1. Marco teórico del enfoque de índice </font></h1>
<p><font color="green">La Agenda de Desarrollo Sostenible 2030 de las Naciones Unidas nos ha proporcionado un modelo para la paz y la prosperidad de las personas y el planeta, ahora y en el futuro. <br> Los 17 Objetivos de Desarrollo Sostenible (ODS) son los pilares principales de la Agenda que exigen una asociación global de todos los países miembros. <br><br>Este pmoduleroject toca varios ODS, más notablemente 1, 3, 6, 11 y 15.<br> <img src="https://www.un.org/sustainabledevelopment/wp-content/uploads/sites/3/2015/01/S-SDG-Poster_-Letter.jpg" width="40%"><br> La pobreza ha sido tradicionalmente medida por las dimensiones económicas individuales de ingreso y riqueza. Por ejemplo, la <a href="https://www.worldbank.org/en/understanding-poverty#:~:text=Regions%20are%20categorized%20using%20PIP%20definition.&amp;text=Note%20on%20global%20poverty%20lines,%242.15%20per%20person%20per%20day." target="_blank">El Banco Mundial definió la línea de pobreza extrema global como un ingreso de $2,15 USD (2022)</a> o menos por día, que se basa en las líneas de pobreza nacionales de los 15 países más pobres del mundo. Sin embargo, estos indicadores no consideran en su totalidad otras formas de pobreza no financiera que pueden ser de igual importancia. <br>El concepto de pobreza multidimensional abarca una visión más holística porque intenta dar cuenta de las experiencias vividas por las personas y las múltiples privaciones que enfrentan en su vida diaria más allá de sus ingresos.<br> </font> ### <font color="green">Ejemplos de mapeo e índices de vulnerabilidad</font> <font color="green">Existen varios enfoques para determinar la vulnerabilidad espacial que utilizan una combinación de datos de observación de la Tierra (EO) y modelos estadísticos, como árboles de decisión, aprendizaje automático e inteligencia artificial.</font> ##### <font color="green">1. Wang, X.; Sutton, PC; Qi, B. Mapeo global del PIB a 1 km2 utilizando imágenes satelitales nocturnas VIIRS. Internet de ISPRS J. Geo-Inf. 2019, 8, 580. https://doi.org/10.3390/ijgi8120580</font> <font color="green"> Uso de imágenes satelitales y aprendizaje automático (SIML). Luces nocturnas (NTL), datos de población y aprendizaje automático de bosques de aislamiento no supervisado (iForest ML) para eliminar datos NTL irrelevantes para mapear el PIB en 1 km2 y producir coeficientes GINI nacionales. <br> <img src="https://pub.mdpi-res.com/ijgi/ijgi-08-00580/article_deploy/html/images/ijgi-08-00580-g004.png?1577771172" width="40%"><br></font> ##### <font color="green">2. Mirza, M. U., Xu, C., Bavel, B. V., Van Nes, E. H. y Scheffer, M. (2021). Desigualdad global detectada remotamente. Actas de la Academia Nacional de Ciencias, 118(18), e1919913118. https://doi.org/10.1073/pnas.1919913118</font> <font color="green">Calcula la densidad de NTL por persona en cada celda y caracteriza la desigualdad en la distribución entre conjuntos de celdas de cuadrícula calculando los coeficientes de Gini para cada conjunto. <br> <img src="https://www.pnas.org/cms/10.1073/pnas.1919913118/asset/45c066f2-7e2f-4320-8f05-4474d24c4ca4/assets/images/large/pnas.1919913118fig04.jpg" width="40%"><br></font> ##### <font color="green">3. OFI (2018). Índice Global de Pobreza Multidimensional 2018: El panorama más detallado hasta la fecha de las personas más pobres del mundo. Informe. Iniciativa de Pobreza y Desarrollo Humano de Oxford, Universidad de Oxford. https://ophi.org.uk/multidimensional-poverty-index/ </font> <font color="green">Método Alkire Foster: elige indicadores, aplica la línea de corte de “pobreza”, cuenta el número de carencias por persona, elige el número de corte de carencias para ser considerado “pobre”, cuenta el número de personas consideradas multidimensionalmente pobres. <br> <img src="https://ophi.org.uk/wp-content/uploads/G-MPI_chart_with_weights_%C2%A9_web2-1024x737.png" width="40%"><br></font> ##### <font color="green"> 4. Chi, G., Fang, H., Chatterjee, S. y Blumenstock, J. E. (2022). Microestimaciones de riqueza para todos los países de bajos y medianos ingresos. Actas de la Academia Nacional de Ciencias, 119(3), e2113658119. https://doi.org/10.1073/pnas.2113658119 </font> <font color="green">Índice de Riqueza Relativa (RWI): Combina encuestas de “verdad sobre el terreno” y SIML para entrenar un modelo que predice la pobreza.<br> <img src="https://www.pnas.org/cms/10.1073/pnas.2113658119/asset/186bd4e7-bc76-426a-a71d-0b9606f1c614/assets/images/large/pnas.2113658119fig01.jpg" width=" 40%"></font> ##### <font color="green">5. Sherman, L., Proctor, J., Druckenmiller, H., Tapia, H. y Hsiang, S. (2023). Estimaciones globales de alta resolución del índice de desarrollo humano de las Naciones Unidas utilizando imágenes satelitales y aprendizaje automático (w31044; pág. w31044). Oficina Nacional de Investigación Económica. https://doi.org/10.3386/w31044</font> <font color="green">Imágenes satelitales y aprendizaje automático (SIML) de imágenes satelitales diurnas/nocturnas y modelo de observación multitarea usando imágenes satelitales y fregaderos de cocina (MOSAIKS) que aprende la relación entre 32 fuentes de imágenes satelitales y un resultado deseado, un índice de desarrollo humano (IDH). ) para producir un resultado de HDI de mayor resolución.<br> <img src="https://images.squarespace-cdn.com/content/v1/64090ac2649ae84371ef65cc/08fdc6f7-d9ac-4a68-9b84-68d0150ebd67/MOSAIKS_HDI_Highres.jpg" width="40%"></font> ##### <font color="green">6. Centro para la Red Internacional de Información de Ciencias de la Tierra - CIESIN - Universidad de Columbia. 2022. Índice de privación relativa global en cuadrícula (GRDI), versión 1. Palisades, Nueva York: Centro de aplicaciones y datos socioeconómicos de la NASA (SEDAC). https://doi.org/10.7927/3xxe-ap97</font></p>
<p><font color="green">Utiliza seis componentes indirectos del bienestar –índices de dependencia infantil, tasas de mortalidad infantil, grado de construcción del entorno, índice de desarrollo humano subnacional, Luces nocturnas 2020 y Tendencia de luces nocturnas (2012-2020)– para generar un índice global de “privación” en Resolución de 30 segundos de arco.<br> <img src="https://sedac.ciesin.columbia.edu/downloads/maps/povmap/povmap-grdi-v1/povmap-grdi-v1.jpg" width="40%"></font> ## <font color="green">Método de indexación y ponderación</font> <font color="green"> El método de Análisis de Vulnerabilidad de Hotspots se tomó prestado de la <a href="https://www.ciesin.columbia.edu/documents/vmapping_guide.pdf">Guía paso a paso de CIESIN para el mapeo de puntos críticos de vulnerabilidad: Implementación del enfoque de índice espacial </a>. Este método desarrolla un modelo basado en datos que permite que diversas variables nominales, ya sean absolutas, físicas, sin unidades o índices, se transformen al mismo rango y se midan comparativamente. Cada componente que se introduce primero se transforma de un rango de 0 a 100, donde 0 representa el nivel más bajo y 100 representa el nivel más alto de vulnerabilidad. Todos los componentes introducidos se ponderan en función del nivel de importancia que le otorga el usuario. Los pesos de los componentes se pueden cambiar para ajustar el modelo. Los componentes ponderados se suman y se indexan nuevamente en un solo índice de vulnerabilidad de puntos críticos (HVI). <br></font></p><font color="green">
</font><p><font color="green"></font></p>
</section>
<section id="theoretical-framework-of-the-index-approach" class="level1">
<h1>1. Theoretical Framework of the Index Approach</h1>
<p>The United Nation’s 2030 Sustainable Development Agenda has provided us a blueprint for peace and prosperity for people and the planet, now and into the future. <br> The 17 Sustainable Development Goals (SDGs) are the main pillars of the Agenda that call for global partnership from all member countries. <br><br>This module touches on several SDGs, most notably 1, 3, 6, 11, and 15.<br> <img src="https://www.undp.org/sites/g/files/zskgke326/files/migration/mm/sdg-sticker-eng.jpg" width="40%"><br> Poverty has been traditionally measured by individual economic dimensions of income and wealth. For example, the <a href="https://www.worldbank.org/en/understanding-poverty#:~:text=Regions%20are%20categorized%20using%20PIP%20definition.&amp;text=Note%20on%20global%20poverty%20lines,%242.15%20per%20person%20per%20day." target="_blank">World Bank defined the global extreme-poverty line as $2.15 USD (2022)</a> income or below per day, which is based on the national poverty lines of the world’s 15 poorest countries. However, these indicators do not entirely consider other non-financial forms of poverty that may be of equal importance. <br>The concept of multidimensional poverty encompasses a more holistic view because it attempts to account for the lived experiences of people and the multiple deprivations they face in their daily lives beyond their incomes.<br></p>
<section id="examples-of-vulnerability-mapping-and-indices" class="level3">
<h3 class="anchored" data-anchor-id="examples-of-vulnerability-mapping-and-indices">Examples of Vulnerability Mapping and Indices</h3>
<p>There are several approaches to determining spatial vulnerability that use a mixture of Earth Observing (EO) data and statistical modelings such as decision trees, machine learning, and artificial intellience. ##### 1. Wang, X.; Sutton, P.C.; Qi, B. Global Mapping of GDP at 1 km2 Using VIIRS Nighttime Satellite Imagery. ISPRS Int. J. Geo-Inf. 2019, 8, 580. https://doi.org/10.3390/ijgi8120580 Using Satellite Imagery and Machine Learning (SIML). Nighttime Lights (NTL), population data, and unsupervised Isolation Forest Machine Learning (iForest ML) for removing irrelevant NTL data to map GDP at 1 sq. km and produce national GINI coefficients. <br> <img src="https://pub.mdpi-res.com/ijgi/ijgi-08-00580/article_deploy/html/images/ijgi-08-00580-g004.png?1577771172" width="40%"><br> ##### 2. Mirza, M. U., Xu, C., Bavel, B. V., Van Nes, E. H., &amp; Scheffer, M. (2021). Global inequality remotely sensed. Proceedings of the National Academy of Sciences, 118(18), e1919913118. https://doi.org/10.1073/pnas.1919913118 Calculates NTL density per person in each cell and characterizes inequality in the distribution across sets of grid cells by computing Gini coefficients for each set. <br> <img src="https://www.pnas.org/cms/10.1073/pnas.1919913118/asset/45c066f2-7e2f-4320-8f05-4474d24c4ca4/assets/images/large/pnas.1919913118fig04.jpg" width="40%"><br> ##### 3. OPHI (2018). Global Multidimensional Poverty Index 2018: The Most Detailed Picture to Date of the World’s Poorest People. Report. Oxford Poverty and Human Development Initiative, University of Oxford. https://ophi.org.uk/multidimensional-poverty-index/ Alkire Foster Method: Chooses indicators, applies cut-off “poverty” line, counts the number of deprivations per person, chooses a cut-off number of deprivations to be considered “poor”, and counts the number of people considered multidimensionally poor. <br> <img src="https://ophi.org.uk/wp-content/uploads/G-MPI_chart_with_weights_%C2%A9_web2-1024x737.png" width="40%"><br> ##### 4. Chi, G., Fang, H., Chatterjee, S., &amp; Blumenstock, J. E. (2022). Microestimates of wealth for all low- and middle-income countries. Proceedings of the National Academy of Sciences, 119(3), e2113658119. https://doi.org/10.1073/pnas.2113658119 Relative Wealth Index (RWI): Combines “ground-truth” surveys and SIML to train model that predicts poverty.<br> <img src="https://www.pnas.org/cms/10.1073/pnas.2113658119/asset/186bd4e7-bc76-426a-a71d-0b9606f1c614/assets/images/large/pnas.2113658119fig01.jpg" width="40%"> ##### 5. Sherman, L., Proctor, J., Druckenmiller, H., Tapia, H., &amp; Hsiang, S. (2023). Global High-Resolution Estimates of the United Nations Human Development Index Using Satellite Imagery and Machine-learning (w31044; p.&nbsp;w31044). National Bureau of Economic Research. https://doi.org/10.3386/w31044 Satellite Imagery and Machine Learning (SIML) of daytime/nighttime satellite imagery and Multi-task Observation using Satellite Imagery and Kitchen Sinks (MOSAIKS) model that learns the relationship between 32 sources of satellite imagery and a desired outcome, a Human Development Index (HDI) value, to produce a higher-resolution outcome of HDI.<br> <img src="https://images.squarespace-cdn.com/content/v1/64090ac2649ae84371ef65cc/08fdc6f7-d9ac-4a68-9b84-68d0150ebd67/MOSAIKS_HDI_Highres.jpg" width="40%"> ##### 6. Center for International Earth Science Information Network - CIESIN - Columbia University. 2022. Global Gridded Relative Deprivation Index (GRDI), Version 1. Palisades, New York: NASA Socioeconomic Data and Applications Center (SEDAC). https://doi.org/10.7927/3xxe-ap97</p>
<p>Uses six proxy components of well-being –child dependency ratios, infant mortality rates, degree of the built environment, subnational human development index, Nighttime lights 2020, and Nighttime lights trend (2012-2020)– to generate a global “deprivation” index at 30-arcsecond resolution.<br> <img src="https://sedac.ciesin.columbia.edu/downloads/maps/povmap/povmap-grdi-v1/povmap-grdi-v1.jpg" width="40%"></p>
</section>
<section id="indexing-and-weighting-method" class="level2">
<h2 class="anchored" data-anchor-id="indexing-and-weighting-method">Indexing and Weighting Method</h2>
<p>The Hotspot Vulnerability Analysis method is borrowed from the <a href="https://www.ciesin.columbia.edu/documents/vmapping_guide.pdf">CIESIN Step-by-Step Guide to Vulnerability Hotspots Mapping: Implementing the Spatial Index Approach</a>. This method develops a data-driven model that allows for varied nominal variables –whether they are absolute, physical, unitless, or indexes– to be transformed to the same range and be comparatively measured. Each component that is introduced is first transformed from a range from 0 to 100, where 0 represents the lowest and 100 represents the highest levels of vulnerability. All of the components introduced are weighted based on the level of importance placed by the user. The weights of the components can be changed to adjust the model. The weighted components are added together and indexed again into a single Hotspot Vulnerability Index (HVI). <br></p>
</section>
</section>
<section id="procesamiento-de-productos-de-datos" class="level1">
<h1><font color="green"> 2. Procesamiento de productos de datos:</font></h1>
<section id="estudio-de-caso-de-municipios-del-cauca-colombia" class="level2">
<h2 class="anchored" data-anchor-id="estudio-de-caso-de-municipios-del-cauca-colombia"><font color="green">Estudio de Caso de Municipios del Cauca, Colombia</font></h2>
<p><font color="green">En esta lección, desarrollaremos un índice de vulnerabilidad de puntos críticos (HVI) para cada uno de los municipios del Cauca, Colombia, para medir tres componentes ambientales y uno socioeconómico para determinar qué municipios son los más vulnerables. Identificamos cuatro componentes del bienestar que queremos medir: <u>pobreza multidimensional, calor, agua y aire.</u><br><br></font> - <font color="green">Pobreza Multidimensional: Medida por el Índice de Pobreza Multidimensional (IPM) del DANE.</font><br> - <font color="green">Calor: medido por la temperatura máxima diurna de la superficie terrestre en Celsius (LST).</font><br> - <font color="green">Agua: Medida por la evolución de la disponibilidad de agua terrestre (Agua).</font><br> - <font color="green">Calidad del aire: medida por partículas finas a nivel del suelo de 2,5 micrómetros o menos en microgramos por metro cúbico (PM2,5).<br><br> </font></p>
<section id="fuentes-de-datos" class="level3">
<h3 class="anchored" data-anchor-id="fuentes-de-datos"><font color="green"> Fuentes de datos:</font></h3>
<p><font color="green"><a href="https://geoportal.dane.gov.co/servicios/descarga-y-metadatos/descarga-mgn-marco-geoestadistico-nacional/#gsc.tab=0">Límites Municipales de Colombia</a> (Shapefile)<br><a href="https://geoportal.dane.gov.co/geovisores/sociedad/indicadores-regionales/">Índice de Pobreza Multidimensional del Valle del Cauca</a> (Table) <br><a href="https://sedac.ciesin.columbia.edu/data/set/sdei-global-summer-lst-2013/">Valle del Cauca Cuadrículas globales de temperatura de la superficie terrestre (LST) de verano, v1 (2013)</a> (Raster)<br> <a href="https://sedac.ciesin.columbia.edu/data/set/sdei-trends-freshwater-availability-grace/">Tendencias en la disponibilidad global de agua dulce del Experimento climático y de recuperación de la gravedad (GRACE), v1 (2002 – 2016)</a> (Raster)<br><a href="https://sedac.ciesin.columbia.edu/data/set/sdei-global-annual-gwr-pm2-5-modis-misr-seawifs-aod-v4-gl-03/">Valle del Cauca Global (GL) Anual PM2.5 Cuadrículas de MODIS, MISR y SeaWiFS Aerosol Profundidad óptica (AOD), v4.03 (2019)</a> (Raster)</font></p>
</section>
</section>
</section>
<section id="processing-data-products" class="level1">
<h1>2. Processing Data Products:</h1>
<section id="case-study-of-municipalities-in-cauca-colombia" class="level2">
<h2 class="anchored" data-anchor-id="case-study-of-municipalities-in-cauca-colombia">Case Study of Municipalities in Cauca, Colombia</h2>
<p>In this lesson, we will develop a hotspot vulnerability index (HVI) for each of the municipalities in Cauca, Colombia to measure four components, three environmental and one socioeconomic, to determine which municipalities are the most vulnerable.<br> We identified four components of wellbeing that we want to measure: <u>multidimensional poverty, heat, water, and air.</u><br><br> - Multidimensonal Poverty: Measured by the DANE Multidimensional Poverty Index (IPM). - Heat: Measured by Land Surface Temperature daytime maximum in Celcius (LST). - Water: Measured by trends in terrestrial water availability (Water). - Air Quality: Measured by ground-level fine particulate matter of 2.5 micrometers or smaller in micrograms per cubic meter (PM2.5).</p>
<section id="data-sources" class="level3">
<h3 class="anchored" data-anchor-id="data-sources">Data Sources:</h3>
<p><a href="https://geoportal.dane.gov.co/servicios/descarga-y-metadatos/descarga-mgn-marco-geoestadistico-nacional/#gsc.tab=0">Colombia Municipal Boundaries</a> (Shapefile)</p>
<p><a href="https://geoportal.dane.gov.co/geovisores/sociedad/indicadores-regionales/">Valle del Cauca Multidimensional Poverty Index</a> (Table)</p>
<p><a href="https://sedac.ciesin.columbia.edu/data/set/sdei-global-summer-lst-2013/">Valle del Cauca Global Summer Land Surface Temperature (LST) Grids, v1 (2013)</a> (Raster)</p>
<p><a href="https://sedac.ciesin.columbia.edu/data/set/sdei-trends-freshwater-availability-grace/">Trends in Global Freshwater Availability from the Gravity Recovery and Climate Experiment (GRACE), v1 (2002 – 2016)</a> (Raster)</p>
<p><a href="https://sedac.ciesin.columbia.edu/data/set/sdei-global-annual-gwr-pm2-5-modis-misr-seawifs-aod-v4-gl-03/">Valle del Cauca Global (GL) Annual PM2.5 Grids from MODIS, MISR and SeaWiFS Aerosol Optical Depth (AOD), v4.03 (2019)</a> (Raster)</p>
<section id="importar-archivos-shapefile-tabla-y-tres-geotiffs." class="level4">
<h4 class="anchored" data-anchor-id="importar-archivos-shapefile-tabla-y-tres-geotiffs."><font color="green">Importar archivos –shapefile, tabla, y tres geoTiffs.</font></h4>
<p><font color="green">Zonas utilizadas para delimitar zonas. Los valores de zona deben ser números enteros:<br><br></font> #### Import files –shapefile, table, and three geoTiffs. Zones used to delineate zones. Zone Values should be integers:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co">#assing shapefile to zones</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>zones <span class="op">=</span> gpd.read_file(<span class="st">"/vsicurl/https://github.com/ciesin-geospatial/hotspot_training/raw/e9e2492f7c682422fe72c4328afe4dc36ba4871f/data/Col_CAUCA_municip.shp"</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="co">#vista previa de las primeras cinco filas</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co">#preview first five rows</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>zones.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Importar tabla índice de pobreza multidimensional (IPM)</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="co">#Import multidimensional poverty index table (IPM)</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>IPM <span class="op">=</span> pd.read_csv(<span class="st">"https://github.com/ciesin-geospatial/hotspot_training/raw/e9e2492f7c682422fe72c4328afe4dc36ba4871f/data/cauca_IPM.csv"</span>, index_col<span class="op">=</span><span class="va">False</span>, decimal<span class="op">=</span><span class="st">","</span>)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>IPM.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co">#lista de columnas</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="co">#column list</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>IPM.columns</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Ver los variables unicos en la columna 'clase'</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="co">#View the unique variables in column 'clase' (class)</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>IPM[<span class="st">"clase"</span>].unique()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co">#tabla de subconjuntos para incluir solo filas con 'Total' en la columna 'clase'</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="co">#subset table to include only rows with 'Total' in the 'class' column</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>IPM  <span class="op">=</span> IPM[IPM[<span class="st">"clase"</span>] <span class="op">==</span> <span class="st">"Total"</span>]</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>IPM.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co">#seleccione solo las columnas de código municipal, nombre e IPM</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="co">#select only the columns for municipal code, name and IPM</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>IPM <span class="op">=</span> IPM[[<span class="st">"cod_municipio"</span>, <span class="st">"municipio"</span>, <span class="st">"ipm"</span>]]</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="co">#cambiar el nombre de la columna del código municipal a 'MID'</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="co">#rename municipal code column to 'MID'</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>IPM <span class="op">=</span> IPM.rename(columns<span class="op">=</span>{<span class="st">"cod_municipio"</span>: <span class="st">"MID"</span>})</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>IPM.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co">#archivos de datos utilizados para realizar estadísticas zonales</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="co">#files of data used to perform zonal statistics</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="co">#Temperatura de la superficie terrestre (LST)</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="co">#Land Surface Temperature (LST)</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>LST <span class="op">=</span> rasterio.<span class="bu">open</span>(<span class="st">"https://github.com/ciesin-geospatial/hotspot_training/raw/e9e2492f7c682422fe72c4328afe4dc36ba4871f/data/summer_LST.tif"</span>)</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="co">#disponibilidad de agua dulce (agua)</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="co">#freshwater availability (water)</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>water <span class="op">=</span> rasterio.<span class="bu">open</span>(<span class="st">"https://github.com/ciesin-geospatial/hotspot_training/raw/e9e2492f7c682422fe72c4328afe4dc36ba4871f/data/freshwater.tif"</span>)</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a><span class="co">#partículas de ozono 2.5 (PM25)</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a><span class="co">#ozone particulate matter 2.5 (PM25)</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>PM25 <span class="op">=</span> rasterio.<span class="bu">open</span>(<span class="st">"https://github.com/ciesin-geospatial/hotspot_training/raw/e9e2492f7c682422fe72c4328afe4dc36ba4871f/data/PM25.tif"</span>)</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a><span class="co">#leer banda 1 del ráster LST</span></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a><span class="co">#read LST raster band 1</span></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>LST_data <span class="op">=</span> LST.read(<span class="dv">1</span>, masked<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a><span class="co">#leer banda 1 del ráster water</span></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a><span class="co">#read water raster band 1</span></span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>water_data <span class="op">=</span> water.read(<span class="dv">1</span>, masked<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a><span class="co">#leer banda 1 del ráster PM25</span></span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a><span class="co">#read PM25 raster band 1</span></span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>PM25_data <span class="op">=</span> PM25.read(<span class="dv">1</span>, masked<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co">#crea una gráfica con 1 fila y 4 columnas limitando el tamaño a 20 por 5</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="co">#create a plot with 1 row and 4 columns limiting size to 20 by 5</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(<span class="dv">1</span>,<span class="dv">4</span>, figsize <span class="op">=</span> (<span class="dv">20</span>,<span class="dv">5</span>))</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="co">#traza el archivo de forma de zonas en la primera columna llamada ax[0]</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="co">#plot the zones shapefile in the first column named ax[0]</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>zones.plot(cmap <span class="op">=</span> <span class="st">'rainbow'</span>, ax<span class="op">=</span>ax[<span class="dv">0</span>])</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a><span class="co">#trazar rásteres en el resto de las columnas</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a><span class="co">#plot rasters in the rest of the columns</span></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>im1 <span class="op">=</span> ax[<span class="dv">1</span>].imshow(LST_data, cmap<span class="op">=</span><span class="st">'plasma'</span>)</span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>im2 <span class="op">=</span> ax[<span class="dv">2</span>].imshow(water_data, cmap<span class="op">=</span><span class="st">'GnBu'</span>)</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>im3 <span class="op">=</span> ax[<span class="dv">3</span>].imshow(PM25_data, cmap<span class="op">=</span><span class="st">'viridis'</span>)</span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a><span class="co">#establecer títulos para gráficos</span></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a><span class="co">#set titles for graphs</span></span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>].set_title(<span class="st">'Cauca - Municipalidades'</span>, wrap<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>].set_title(<span class="st">'Cauca - Temperatura de la</span><span class="ch">\n</span><span class="st">superficie terrestre de verano'</span>, wrap<span class="op">=</span><span class="va">True</span>)<span class="op">;</span></span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">2</span>].set_title(<span class="st">'Cauca - Disponibilidad de</span><span class="ch">\n</span><span class="st">agua dulce'</span>, wrap<span class="op">=</span><span class="va">True</span>)<span class="op">;</span></span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">3</span>].set_title(<span class="st">'Cauca - Material particulado 2.5</span><span class="ch">\n</span><span class="st">(PM2.5)'</span>, wrap<span class="op">=</span><span class="va">True</span>)<span class="op">;</span></span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a><span class="co">#barra de colores para rásteres</span></span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a><span class="co">#color bar for rasters</span></span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a>fig.colorbar(im1, ax<span class="op">=</span>ax[<span class="dv">1</span>])</span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a>fig.colorbar(im2, ax<span class="op">=</span>ax[<span class="dv">2</span>])</span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a>fig.colorbar(im3, ax<span class="op">=</span>ax[<span class="dv">3</span>])</span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="ejemplo-de-una-municipalidad" class="level5">
<h5 class="anchored" data-anchor-id="ejemplo-de-una-municipalidad"><font color="green">Ejemplo de una municipalidad:</font></h5>
</section>
<section id="example-of-one-municipality" class="level5">
<h5 class="anchored" data-anchor-id="example-of-one-municipality">Example of one Municipality:</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co">#recorra IDs de zona (MID)</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="co">#loop through zone IDs (MID)</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> zones[<span class="st">'MID'</span>][:<span class="dv">1</span>]:</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Printear MID</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Print MID</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"MID:"</span>, i)</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>    <span class="co">#obtener forma única de shapefile</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>    <span class="co">#get single shape from shapefile</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>    roi <span class="op">=</span> zones[zones.MID <span class="op">==</span> i]</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>    <span class="co">#enmáscarar los rásteres y establezca nodata en -9999</span></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>    <span class="co">#mask rasters and set nodata to -9999</span></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>    LST_arr, LSTbound <span class="op">=</span> mask.mask(LST, roi[<span class="st">"geometry"</span>], crop<span class="op">=</span><span class="va">True</span>, all_touched<span class="op">=</span><span class="va">True</span>, nodata<span class="op">=-</span><span class="dv">9999</span>)</span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>    water_arr, waterbound <span class="op">=</span> mask.mask(water, roi[<span class="st">"geometry"</span>], crop<span class="op">=</span><span class="va">True</span>, all_touched<span class="op">=</span><span class="va">True</span>, nodata<span class="op">=-</span><span class="dv">9999</span>)</span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>    PM25_arr, PM25bound <span class="op">=</span> mask.mask(PM25, roi[<span class="st">"geometry"</span>], crop<span class="op">=</span><span class="va">True</span>, all_touched<span class="op">=</span><span class="va">True</span>, nodata<span class="op">=-</span><span class="dv">9999</span>)</span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>    <span class="co">#establezca nodata (-9999) a None</span></span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Set nodata value (-9999) to None</span></span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>    LST_arr[LST_arr <span class="op">==-</span><span class="dv">9999</span>] <span class="op">=</span> <span class="va">None</span></span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a>    water_arr[water_arr <span class="op">==-</span><span class="dv">9999</span>] <span class="op">=</span> <span class="va">None</span></span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a>    PM25_arr[PM25_arr <span class="op">==-</span><span class="dv">9999</span>] <span class="op">=</span> <span class="va">None</span></span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a><span class="co">#trazar el gráfico</span></span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a><span class="co">#plot the arrays</span></span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a>show(LST_arr)</span>
<span id="cb11-28"><a href="#cb11-28" aria-hidden="true" tabindex="-1"></a>show(water_arr)</span>
<span id="cb11-29"><a href="#cb11-29" aria-hidden="true" tabindex="-1"></a>show(PM25_arr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="recorra-todos-los-municipios" class="level4">
<h4 class="anchored" data-anchor-id="recorra-todos-los-municipios"><font color="green">Recorra todos los municipios:</font></h4>
</section>
<section id="loop-through-all-municipalities" class="level4">
<h4 class="anchored" data-anchor-id="loop-through-all-municipalities">Loop through all municipalities:</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Crear marco de datos en blanco para almacenar estadísticas zonales</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="co">#Create blank dataframe to store zonal statistics</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame(columns <span class="op">=</span>[<span class="st">'MID'</span>,<span class="st">'LST'</span>,<span class="st">'water'</span>,<span class="st">'PM25'</span>])</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="co">#recorra IDs de zona (MID)</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="co">#loop through zone IDs (MID)</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> zones[<span class="st">'MID'</span>]:</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>    <span class="co">#obtener fila de municipio único de shapefile</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>    <span class="co">#get single municipality row from shapefile</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>    roi <span class="op">=</span> zones[zones.MID <span class="op">==</span> i]</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>    <span class="co">#enmáscarar los rásteres y establezca nodata en -9999</span></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Mask rasters with single municipality geometry and set nodata to -9999</span></span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>    LST_arr, LSTbound <span class="op">=</span> mask.mask(LST, roi[<span class="st">"geometry"</span>], crop<span class="op">=</span><span class="va">True</span>, all_touched<span class="op">=</span><span class="va">True</span>, nodata<span class="op">=-</span><span class="dv">9999</span>)</span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>    water_arr, waterbound <span class="op">=</span> mask.mask(water, roi[<span class="st">"geometry"</span>], crop<span class="op">=</span><span class="va">True</span>, all_touched<span class="op">=</span><span class="va">True</span>, nodata<span class="op">=-</span><span class="dv">9999</span>)</span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>    PM25_arr, PM25bound <span class="op">=</span> mask.mask(PM25, roi[<span class="st">"geometry"</span>], crop<span class="op">=</span><span class="va">True</span>, all_touched<span class="op">=</span><span class="va">True</span>, nodata<span class="op">=-</span><span class="dv">9999</span>)</span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a>    <span class="co">#establezca nodata (-9999) a None</span></span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Set nodata value (-9999) to None</span></span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a>    LST_arr[LST_arr <span class="op">==-</span><span class="dv">9999</span>] <span class="op">=</span> <span class="va">None</span></span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a>    water_arr[water_arr <span class="op">==-</span><span class="dv">9999</span>] <span class="op">=</span> <span class="va">None</span></span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a>    PM25_arr[PM25_arr <span class="op">==-</span><span class="dv">9999</span>] <span class="op">=</span> <span class="va">None</span></span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a>    <span class="co">#crear fila para agregar datos de fila al marco de datos</span></span>
<span id="cb12-26"><a href="#cb12-26" aria-hidden="true" tabindex="-1"></a>    <span class="co">#create row to append row data to dataframe</span></span>
<span id="cb12-27"><a href="#cb12-27" aria-hidden="true" tabindex="-1"></a>    row_to_append <span class="op">=</span> pd.DataFrame([{<span class="st">'MID'</span>:i, <span class="st">'LST'</span>: np.nanmean(LST_arr),</span>
<span id="cb12-28"><a href="#cb12-28" aria-hidden="true" tabindex="-1"></a>                                   <span class="st">'water'</span>:np.nanmean(water_arr),</span>
<span id="cb12-29"><a href="#cb12-29" aria-hidden="true" tabindex="-1"></a>                                   <span class="st">'PM25'</span>: np.nanmean(PM25_arr)}])</span>
<span id="cb12-30"><a href="#cb12-30" aria-hidden="true" tabindex="-1"></a>    <span class="co">#agregar datos de fila al marco de datos</span></span>
<span id="cb12-31"><a href="#cb12-31" aria-hidden="true" tabindex="-1"></a>    <span class="co">#append row data and dataframe</span></span>
<span id="cb12-32"><a href="#cb12-32" aria-hidden="true" tabindex="-1"></a>    df <span class="op">=</span> pd.concat([df,row_to_append])</span>
<span id="cb12-33"><a href="#cb12-33" aria-hidden="true" tabindex="-1"></a>df.head()</span>
<span id="cb12-34"><a href="#cb12-34" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co">#combinar table IPM con table df</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="co">#comine IPM and df tables</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.merge(IPM,df, on<span class="op">=</span><span class="st">"MID"</span>, how<span class="op">=</span><span class="st">"left"</span>)</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co">#histogramas</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="co">#histograms</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>df.hist()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co">#prueba transformaciones</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="co">#test out transformations</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>test <span class="op">=</span> np.power(df[<span class="st">'water'</span>], <span class="fl">1.25</span>)</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="co"># test = boxcox(df['PM25'], lmbda=None)[0]</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="co"># test = pd.DataFrame(list(test))</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>test.hist()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co">#transformar columnas</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="co">#transform columns</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>df[<span class="st">"water"</span>]<span class="op">=</span> np.power(df[<span class="st">'water'</span>], <span class="fl">1.25</span>)</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>df[<span class="st">"PM25"</span>]<span class="op">=</span> boxcox(df[<span class="st">'PM25'</span>], lmbda<span class="op">=</span><span class="va">None</span>)[<span class="dv">0</span>]</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>df.hist()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
</section>
</section>
<section id="proceso-de-indexación-y-ponderación" class="level1">
<h1><font color="green"> 3. Proceso de indexación y ponderación</font></h1>
<p><font color="green">Una vez calculados los valores promedio de cada componente para cada municipio, se indexa cada componente de 0 a 100. <br><b>Cuando los valores bajos indican privación baja (IPM, LST y PM 2.5):</b><br> Índice = ( Valor - Mínimo_de_conjunto ) / ( Máximo_de_conjunto - Mínimo_de_conjunto ) * 100 <br> <br> <b>Los valores altos indican una privación baja (disponibilidad de agua): </b><br> Índice = ( Valor - Máximo_de_conjunto ) / ( Mínimo_de_conjunto - Máximo_de_conjunto ) * 100 </font></p>
</section>
<section id="indexing-and-weighting-process" class="level1">
<h1>3. Indexing and Weighting Process</h1>
<p>Once the average values for each component are calculated for each municipality, each component is indexed from 0 to 100. <br><b>When Low values indicates low deprivation (IPM, LST, and PM 2.5):</b><br> Index = ( Value - Minimum_of_Set ) / ( Maximum_of_Set - Minimum_of_Set ) * 100 <br> <br> <b>High values indicates low deprivation (Water availability): </b><br> Index = ( Value - Maximum_of_Set ) / ( Minimum_of_Set - Maximum_of_Set ) * 100</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'ipm_index'</span>] <span class="op">=</span> (df[<span class="st">'ipm'</span>]<span class="op">-</span>df[<span class="st">'ipm'</span>].<span class="bu">min</span>())<span class="op">/</span>(df[<span class="st">'ipm'</span>].<span class="bu">max</span>()<span class="op">-</span> df[<span class="st">'ipm'</span>].<span class="bu">min</span>())<span class="op">*</span><span class="dv">100</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'LST_index'</span>] <span class="op">=</span> (df[<span class="st">'LST'</span>]<span class="op">-</span>df[<span class="st">'LST'</span>].<span class="bu">min</span>())<span class="op">/</span>(df[<span class="st">'LST'</span>].<span class="bu">max</span>()<span class="op">-</span> df[<span class="st">'LST'</span>].<span class="bu">min</span>())<span class="op">*</span><span class="dv">100</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'water_index'</span>] <span class="op">=</span> (df[<span class="st">'water'</span>]<span class="op">-</span>df[<span class="st">'water'</span>].<span class="bu">max</span>())<span class="op">/</span>(df[<span class="st">'water'</span>].<span class="bu">min</span>()<span class="op">-</span> df[<span class="st">'water'</span>].<span class="bu">max</span>())<span class="op">*</span><span class="dv">100</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'PM25_index'</span>] <span class="op">=</span> (df[<span class="st">'PM25'</span>]<span class="op">-</span>df[<span class="st">'PM25'</span>].<span class="bu">min</span>())<span class="op">/</span>(df[<span class="st">'PM25'</span>].<span class="bu">max</span>()<span class="op">-</span> df[<span class="st">'PM25'</span>].<span class="bu">min</span>())<span class="op">*</span><span class="dv">100</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><font color="green">Los valores ponderados para cada municipio se pueden calcular en función de los datos de entrada. En este caso, asumimos la misma importancia para cada componente (0,25) y lo dividimos por el número de componentes (4).</font></p>
<section id="hvi_ponderado-imp-025-lst-025-agua-025-pm25-025-4" class="level4">
<h4 class="anchored" data-anchor-id="hvi_ponderado-imp-025-lst-025-agua-025-pm25-025-4"><font color="green"><b>HVI_ponderado = (imp * 0,25 + LST * 0,25 + agua * 0,25 + PM25 * 0,25) / 4</b></font></h4>
<p>Weighted values for each municipality can be calculated based on input data. In this case, we assume equal importance to each component (0.25) and divide by the number of components (4).</p>
</section>
<section id="hvi_weighted-imp-0.25-lst-0.25-water-0.25-pm25-0.25-4" class="level4">
<h4 class="anchored" data-anchor-id="hvi_weighted-imp-0.25-lst-0.25-water-0.25-pm25-0.25-4"><b>HVI_weighted = (imp * 0.25 + LST * 0.25 + water * 0.25 + PM25 * 0.25 ) / 4</b></h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'HVI_weighted'</span>]<span class="op">=</span> (df[<span class="st">'ipm_index'</span>]<span class="op">*</span> <span class="fl">0.25</span> <span class="op">+</span> df[<span class="st">'LST_index'</span>]<span class="op">*</span> <span class="fl">0.25</span> <span class="op">+</span> df[<span class="st">'water_index'</span>]<span class="op">*</span><span class="fl">0.25</span> <span class="op">+</span> df[<span class="st">'PM25_index'</span>]<span class="op">*</span><span class="fl">0.25</span>)<span class="op">/</span><span class="dv">4</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><font color="green">Indexación final realizada en municipio a partir de los valores ponderados (W):<br> <b> HVI = (HVI_ponderad - Mínimo_de_conjunto ) / ( Máximo_de_conjunto - Mínimo_de_conjunto ) * 100</b></font> <br> <br></p>
<p>Final Indexing performed on municipality from the weighted values (W):<br> <b>HVI = ( HVI_weighted- Minimum_of_Set ) / ( Maximum_of_Set - Minmum_of_Set ) * 100</b></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'HVI'</span>] <span class="op">=</span> (df[<span class="st">'HVI_weighted'</span>]<span class="op">-</span>df[<span class="st">'HVI_weighted'</span>].<span class="bu">min</span>())<span class="op">/</span>(df[<span class="st">'HVI_weighted'</span>].<span class="bu">max</span>()<span class="op">-</span> df[<span class="st">'HVI_weighted'</span>].<span class="bu">min</span>())<span class="op">*</span><span class="dv">100</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Histograma del índice de vulnerabilidad</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="co">#Histogram of Hotspot Vulnerability Index</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>df[<span class="st">"HVI"</span>].hist()</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Cauca - Indice de vulnerabilidad'</span>)</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co">#matriz de diagrama de dispersión para las columnas elegidas</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="co">#scatterplot matrix for the selected columns</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>pd.plotting.scatter_matrix(df[[<span class="st">'ipm'</span>, <span class="st">'LST'</span>, <span class="st">'water'</span>, <span class="st">'PM25'</span>, <span class="st">'HVI'</span>]], alpha<span class="op">=</span><span class="fl">0.5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co">#fusionar el archivo de forma de zonas y el marco de datos</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="co">#merge zones shapefile and the dataframe</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>zones_m <span class="op">=</span> zones.merge(df, on<span class="op">=</span><span class="st">'MID'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co">#crea una gráfica con 1 fila y 4 columnas limitando el tamaño a 20 por 5</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="co">#create a plot with 1 row and 4 columns limiting size to 20 by 5</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(<span class="dv">1</span>,<span class="dv">4</span>, figsize <span class="op">=</span> (<span class="dv">20</span>,<span class="dv">5</span>))</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="co">#traza el archivo de forma de zonas en la primera columna llamada ax[0]</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a><span class="co">#plot the zones shapefile in the first column named ax[0]</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>zones_m.plot(column<span class="op">=</span><span class="st">'ipm_index'</span>, cmap<span class="op">=</span><span class="st">'inferno'</span>, legend<span class="op">=</span><span class="va">True</span>, ax<span class="op">=</span>ax[<span class="dv">0</span>])</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>zones_m.plot(column<span class="op">=</span><span class="st">'LST_index'</span>, cmap<span class="op">=</span><span class="st">'inferno'</span>, legend<span class="op">=</span><span class="va">True</span>, ax<span class="op">=</span>ax[<span class="dv">1</span>])</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>zones_m.plot(column<span class="op">=</span><span class="st">'water_index'</span>, cmap<span class="op">=</span><span class="st">'inferno'</span>, legend<span class="op">=</span><span class="va">True</span>, ax<span class="op">=</span>ax[<span class="dv">2</span>])</span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>zones_m.plot(column<span class="op">=</span><span class="st">'PM25_index'</span>, cmap<span class="op">=</span><span class="st">'inferno'</span>, legend<span class="op">=</span><span class="va">True</span>, ax<span class="op">=</span>ax[<span class="dv">3</span>])</span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a><span class="co">#establecer títulos para gráficos</span></span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a><span class="co">#set titles for graphs</span></span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>].set_title(<span class="st">'Cauca - Indice de Pobreza</span><span class="ch">\n</span><span class="st">Multidimensional'</span>, wrap<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>].set_title(<span class="st">'Cauca - Temperatura de la</span><span class="ch">\n</span><span class="st">superficie terrestre de verano'</span>, wrap<span class="op">=</span><span class="va">True</span>)<span class="op">;</span></span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">2</span>].set_title(<span class="st">'Cauca - Disponibilidad de</span><span class="ch">\n</span><span class="st">agua dulce'</span>, wrap<span class="op">=</span><span class="va">True</span>)<span class="op">;</span></span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">3</span>].set_title(<span class="st">'Cauca - Material particulado 2.5</span><span class="ch">\n</span><span class="st">(PM2.5)'</span>, wrap<span class="op">=</span><span class="va">True</span>)<span class="op">;</span></span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-20"><a href="#cb23-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-21"><a href="#cb23-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-22"><a href="#cb23-22" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co">#trazar el archivo de zonas con la rampa de color</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="co">#plot the zones shapefile with the HVI color ramp</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>zones_m.plot(column<span class="op">=</span><span class="st">'HVI'</span>, cmap<span class="op">=</span><span class="st">'inferno'</span>, legend<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Cauca - Indice de Vulnerabilidad'</span>)</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co">#ordenar la tabla de archivos por orden descendente de vulnerabilidad</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="co"># #sort shapefile table by HVI descending order</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>zones_m <span class="op">=</span> zones_m.sort_values(<span class="st">'HVI'</span>, ascending<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co">#elegir los 10 con mas alta vulnerabilidad</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="co">#select top 10 with highest vulnerability</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>top10 <span class="op">=</span> zones_m.head(<span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Gráfico de barras de los diez municipios más vulnerables</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="co">#Bar graph of top ten most vulnerable municipalities</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>barplt<span class="op">=</span> plt.bar(<span class="st">'municipio'</span>, <span class="st">'HVI'</span>, data<span class="op">=</span>top10, color<span class="op">=</span><span class="st">'orange'</span>)</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">60</span>, rotation_mode<span class="op">=</span><span class="st">"anchor"</span>, ha<span class="op">=</span><span class="st">'right'</span>)</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Municipalidades mas vulnerables en Cauca, Colombia'</span>)</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>plt.ylim(<span class="dv">50</span>, <span class="dv">105</span>)</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>plt.bar_label(barplt, labels<span class="op">=</span><span class="bu">list</span>(<span class="bu">round</span>(top10[<span class="st">'HVI'</span>], <span class="dv">1</span>)), label_type<span class="op">=</span><span class="st">'edge'</span>)</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">© CC-By TOPSTSCHOOL Development Team</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">This page is built with ❤️ help from <a href="https://nasa-openscapes.github.io/">NASA Openscapes</a>, and <a href="https://quarto.org/">Quarto</a>, with theme from <a href="https://github.com/rstudio/vetiver.rstudio.com">vetiver</a></div>
  </div>
</footer>



</body></html>